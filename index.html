<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>保存图片</title>
    <script src="./jquery.js"></script>
    <script src="./html2canvas.js"></script>
    <script src='./canvas2image.js'></script>
    <style>
        *{
            font-family: microsoft yahei,微软雅黑;
            margin: 0 ;
            padding: 0 ;
        }
        html,body{
            width: 100%;
            height: 100%;
        }
        .result{
            width: 100%;
            height: 100%;
            background-image: url('result_bg_block.png') ;
            background-repeat:no-repeat;
            background-size: cover;
        }
        .result p{
            color: #fff;
        }
    </style> 
</head>
<body>
    <div class="result">
        <p>长按即可保存我哦</p>
    </div>


</body>
<script>
    $(function(){
        print();
    })

    function print() {
        var width = $(".result").width(); 
        var height = $(".result").height(); 
        var canvas = document.createElement("canvas"); 
        var scale = 2; 

        canvas.width = width * scale; 
        canvas.height = height * scale; 
        canvas.getContext("2d").scale(scale, scale);
        var opts = {
            scale: scale, 
            canvas: canvas, 
            logging: true, 
            width: width, 
            height: height 
        };

        html2canvas($(".result"), opts).then(function (canvas) {
           var img = Canvas2Image.convertToImage(canvas, canvas.width, canvas.height);
            document.body.appendChild(img);
            $(img).css({
                "width": canvas.width / 2 + "px",
                "height": canvas.height / 2 + "px",
                "position":'absolute',
                "top":'0',
                "left":'0',
                'right':'0',
                'bottom':'0'
            });
            console.log($(img));
        });
    }



</script>
</html>